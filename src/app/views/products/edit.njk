{% extends 'layout.njk' %}

{% block content %}

 <section class="container form">
  <form method="POST" action="/products?_method=PUT">

   <div class="header">
    <h3>Editar Produto</h3>
   </div>

   <div class="fields">
    {% include 'products/fields.njk' %}
    <input type="hidden" name="id" value="{{product.id}}">
   </div>

   <button class="button" type="submit">Atualizar</button>
  </form>

  <form id="form-delete" method="POST" action="/products?_method=DELETE">
   <input type="hidden" name="id" value="{{products.id}}">
   <button class="button" type="submit">Deletar</button>
  </form>

 </section>

 <script>
   document.querySelector("#form-delete").addEventListener("submit", event => {
    const confirmation = confirm("Deseja Deletar?")
    if(!confirmation) event.preventDefault() 
})
</script>

{% endblock %}